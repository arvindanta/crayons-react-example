(this["webpackJsonpcrayons-react-example"]=this["webpackJsonpcrayons-react-example"]||[]).push([[0],{181:function(e,t,n){},183:function(e,t,n){"use strict";n.r(t);var a=n(24),o=n.n(a),r=n(85),c=n(49),i=n(30),s=n.n(i),l=n(50),d=n.n(l),u=(n(181),n(82)),b=n(83),p=n(23),w=n(86),f=n(84),g=n(11),m="react121";function h(){try{return window.self!==window.top}catch(e){return!0}}var v=function(e){Object(w.a)(n,e);var t=Object(f.a)(n);function n(e){var a;return Object(u.a)(this,n),(a=t.call(this,e)).state={x:"x"},a.triggerClick=a.triggerClick.bind(Object(p.a)(a)),a.broadCastMessage=a.broadCastMessage.bind(Object(p.a)(a)),a}return Object(b.a)(n,[{key:"componentDidMount",value:function(){var e,t,n=this;h()?window.addEventListener("message",(function(e){console.log("message received from parent",e),n.setState({x:e.data.appId})})):null===(e=(t=window).__mfe_subscribe)||void 0===e||e.call(t,m,(function(e){console.log("msg from outside for ".concat(m," is ").concat(e))}))}},{key:"triggerClick",value:function(){var e,t,n;(console.log("click"),h())?null===(e=window.top)||void 0===e||e.postMessage({action:{type:"REACT121MSG",sender:"react121",receiver:"web12"},payload:"child sending message from iframe web12"},"*"):null===(t=(n=window).__mfe_publish)||void 0===t||t.call(n,{action:{type:"from_child react121",sender:"react121",receiver:"web12"},payload:"from child react121"})}},{key:"broadCastMessage",value:function(){var e,t;(console.log("broadcast"),h())||(null===(e=(t=window).__mfe_publish)||void 0===e||e.call(t,{action:{type:"from_child react121",sender:"react121"},payload:"from child broadcast react121",broadcast:!0}))}},{key:"render",value:function(){return Object(g.jsxs)("div",{className:"App",children:[Object(g.jsxs)("h1",{children:["hello : ",JSON.stringify(this.state)]}),Object(g.jsx)("button",{onClick:this.triggerClick,children:" Trigger pubsub publish"}),Object(g.jsx)("button",{onClick:this.broadCastMessage,children:" Trigger Broadcast"})]})}}]),n}(s.a.Component),j="react121";window.react121=window.react121||{},window.react121.mount=function(){var e=Object(c.a)(o.a.mark((function e(t,n){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=3;break}return console.warn("APP - ".concat(j," container not found")),e.abrupt("return");case 3:return console.log("MOUNT: ".concat(j),t,n),d.a.render(Object(g.jsx)(v,Object(r.a)({},n)),t),e.abrupt("return",Object(c.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("UNMOUNT: ".concat(j)),d.a.unmountComponentAtNode(t);case 2:case"end":return e.stop()}}),e)}))));case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),console.log("window appid ",window.react121),window.onload=function(){window.react121.mount(document.getElementById("root"),{})}}},[[183,1,2]]]);
//# sourceMappingURL=main.7af458ed.chunk.js.map